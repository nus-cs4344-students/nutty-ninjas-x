<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="/socket.io/socket.io.js"></script>
        <link href="http://fonts.googleapis.com/css?family=Carter+One" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="css/flatly.css"/>
        <link rel="stylesheet" href="css/style.css"/>
    </head>
    <body class="nn-landing-container">
      <div class="container" ng-controller="LobbyController">
        <div class="row">
          <div class="col-sm-4 col-sm-offset-4">
            <img class="nn-logo img-responsive" src="/images/logo-complete.png">
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 col-md-offset-3">
            <div class="panel panel-default">
              <!-- Default panel contents -->
              <div class="panel-heading">
                <h3>
                  <button class="btn-sm btn-info nn-lobby-button" data-toggle="modal" data-target="#createGameModal">Create Room</button>
                  Game Lobby
                </h3>
              </div>
              <!-- List group -->
              <ul class="list-group">
                <li ng-repeat="(roomName, players) in rooms" class="list-group-item">
                  <h4>
                    <button class="btn-sm btn-warning nn-lobby-button" ng-click="chooseRoom(roomName)">Join Game</button>
                    {{ roomName }}
                  </h4>
                  <p class="nn-num-players">{{ players | keylength }} player<span ng-show="(players | keylength) != 1">s</span> in game</p>
                  <p>Current Players: <span class="nn-theme-color" ng-repeat="(id, player) in players">{{ player.name }}<span ng-show="!$last">,</span> </span></p>
                </li>
              </ul>
            </div>
          </div>
        </div>
      <div>

      <div class="modal fade" id="createGameModal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title">Create Game</h4>
            </div>
            <div class="modal-body">
              <div class="form-group">
                <label for="nn-room-name">Room Name</label>
                <input id="nn-room-name" type="text" class="form-control" ng-model="roomName" placeholder="Enter room name">
              </div>
              <div class="form-group">
                <label for="nn-player-name">Player Name</label>
                <input id="nn-player-name" type="text" class="form-control" ng-model="playerName" placeholder="Enter player name">
              </div>
              <div class="form-group">
                <label for="nn-player-name">Ninja Colour</label>
                <ul class="nav nav-pills">
                  <li class="ninja-red" ng-class="{ active: selectedColour === 'red' }" role="presentation" ng-click="selectedColour = 'red'"><a href="#">Red</a></li>
                  <li class="ninja-blue" ng-class="{ active: selectedColour === 'blue' }" role="presentation" ng-click="selectedColour = 'blue'"><a href="#">Blue</a></li>
                  <li class="ninja-green" ng-class="{ active: selectedColour === 'green' }" role="presentation" ng-click="selectedColour = 'green'"><a href="#">Green</a></li>
                  <li class="ninja-yellow" ng-class="{ active: selectedColour === 'yellow' }"role="presentation" ng-click="selectedColour = 'yellow'"><a href="#">Yellow</a></li>
                </ul>
              </div>
              <p ng-show="errorMessage" class="nn-error-message">{{ errorMessage }}</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
              <button type="button" class="btn btn-primary" ng-click="createGame()">Create</button>
            </div>
          </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->

      <div class="modal fade" id="joinGameModal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title">Join Game</h4>
            </div>
            <div class="modal-body">
              <div class="form-group">
                <label for="nn-room-name">Room Name</label>
                <input id="nn-room-name" type="text" class="form-control" ng-model="chosenRoom" placeholder="Enter room name" disabled>
              </div>
              <div class="form-group">
                <label for="nn-player-name">Player Name</label>
                <input id="nn-player-name" type="text" class="form-control" ng-model="playerName" placeholder="Enter player name">
              </div>
              <div class="form-group">
                <label for="nn-player-name">Ninja Colour</label>
                <ul class="nav nav-pills">
                  <li class="ninja-red" ng-class="{ active: selectedColour === 'red' }" role="presentation" ng-click="selectedColour = 'red'"><a href="#">Red</a></li>
                  <li class="ninja-blue" ng-class="{ active: selectedColour === 'blue' }" role="presentation" ng-click="selectedColour = 'blue'"><a href="#">Blue</a></li>
                  <li class="ninja-green" ng-class="{ active: selectedColour === 'green' }" role="presentation" ng-click="selectedColour = 'green'"><a href="#">Green</a></li>
                  <li class="ninja-yellow" ng-class="{ active: selectedColour === 'yellow' }"role="presentation" ng-click="selectedColour = 'yellow'"><a href="#">Yellow</a></li>
                </ul>
              </div>
              <p ng-show="errorMessage" class="nn-error-message">{{ errorMessage }}</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
              <button type="button" class="btn btn-primary" ng-click="joinGame()">Join</button>
            </div>
          </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->

      <script src="/bower_components/jquery/dist/jquery.min.js"></script>
      <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
      <script src="/bower_components/angular/angular.js"></script>
      <script src="/scripts/LobbyController.js"></script>
    </body>
</html>
